<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <script>
        function smartSum() {
            smartSum.res = 0;
            inner.toString = function() {
                return smartSum.res;
            }
            for (arg in arguments) {
                val = parseInt(arguments[arg]);
                smartSum.res += (isNaN(val) ? 0 : val)
            }

            function inner() {
                for (arg in arguments) {
                    val = parseInt(arguments[arg]);
                    smartSum.res += (isNaN(val) ? 0 : val)
                }
                return inner;
            }

            return inner;
        }

        alert(smartSum(43, "43", "asds", {
            a: 45
        })(4)("строка")(34));
        alert(smartSum(1, 2)(3, 4, 5)(6)(7, 10));
        alert(smartSum(1, 3)(2));
        alert(smartSum(1, 2));
        alert(smartSum(3));
    </script>
</head>

<body>
</body>

</html>